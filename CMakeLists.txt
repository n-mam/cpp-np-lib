project (NPL)

find_package(Threads)

if (UNIX)
 find_package(OpenSSL REQUIRED)
endif (UNIX)

ADD_EXECUTABLE(Test Test.cpp)

SET_PROPERTY(TARGET Test PROPERTY CXX_STANDARD 17)

TARGET_INCLUDE_DIRECTORIES(Test PRIVATE INCLUDE)

TARGET_INCLUDE_DIRECTORIES(Test PUBLIC .)

if (WIN32)
  TARGET_LINK_LIBRARIES(Test Ws2_32.lib)
else()
  TARGET_LINK_LIBRARIES(Test ${CMAKE_THREAD_LIBS_INIT} OpenSSL::SSL)
endif (WIN32)